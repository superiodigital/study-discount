<form id="editor-form">
    <div id="snow-editor" style="height: 300px;">
        <h3><span class="ql-size-large">Hello World!</span></h3>
        <p><br></p>
        <h3>This is an simple editable area.</h3>
        <p><br></p>
        <ul>
            <li>
                Select a text to reveal the toolbar.
            </li>
            <li>
                Edit rich document on-the-fly, so elastic!
            </li>
        </ul>
        <p><br></p>
        <p>
            End of simple area
        </p>

    </div>
    <div id="editor-container">
        <div id="editor"></div>
    </div>
    <button type="submit" id="save-button">Save</button>
</form>

<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<script>
    var quill = new Quill('#snow-editor', {
        theme: 'snow',
    });

    document.getElementById('editor-form').addEventListener('submit', function (e) {
        e.preventDefault();

        // Get the HTML content from the Quill editor
        const content = document.querySelector('.ql-editor').innerHTML;

        // Send an HTTP POST request using AJAX (fetch)
        fetch('/admin/save', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ content }),
        })
            .then((response) => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('Failed to save text content');
                }
            })
            .then((data) => {
                console.log(data.message);
            })
            .catch((error) => {
                console.error(error);
            });
    });
</script>